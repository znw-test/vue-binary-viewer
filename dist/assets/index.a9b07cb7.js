import{r as g,c as R,o as s,a as v,t as M,u as c,n as q,b as r,F as N,d as E,w as $,v as A,e as U,i as D,f as T,p as Z,g as ee,h as O,j as H,k as te,l as le}from"./vendor.50b6782e.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&l(y)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}};oe();var I=(f,t)=>{const e=f.__vccOpts||f;for(const[l,o]of t)e[l]=o;return e};const ae={key:0},ne=["value"],re={props:{byte:Number,index:Number,selected:Boolean,bgColor:{type:String,default:"#ddd"},fgColor:{type:String,default:"#000"}},emits:["change","select","mouseenter","mouseleave"],setup(f,{emit:t}){const e=f,l=g(!1);function o(h){h===void 0?l.value=!l.value:l.value=h}let u=R(()=>e.byte.toString(16).padStart(2,"0").toUpperCase());function y(h){let _=Number("0x"+h.target.value);if(!isNaN(_)&&e.byte!==_){let C=e.byte;e.byte=_,t("change",C,_,e.index)}o(!1)}function i(h){h===void 0?t("select",e.index,!e.selected):t("select",e.index,h)}function B(h){e.selected||t(h?"mouseenter":"mouseleave",e.index)}return(h,_)=>(s(),v("div",{class:"cell",style:q({"background-color":e.bgColor,color:e.fgColor}),onClick:_[0]||(_[0]=C=>i()),onMouseenter:_[1]||(_[1]=C=>B(!0)),onMouseleave:_[2]||(_[2]=C=>B(!1))},[l.value?(s(),v("input",{key:1,value:c(u),maxlength:"2",onBlur:y},null,40,ne)):(s(),v("span",ae,M(c(u)),1))],36))}};var se=I(re,[["__scopeId","data-v-67445030"]]);const ue={props:{byte:Number,selected:Boolean,bgColor:{type:String,default:"#ddd"},fgColor:{type:String,default:"#000"}},setup(f){const t=f;let e=R(()=>t.byte>32&&t.byte<127?String.fromCharCode(t.byte):".");return(l,o)=>(s(),v("div",{class:"cell",style:q({"background-color":t.bgColor,color:t.fgColor})},[r("span",null,M(c(e)),1)],4))}};var ie=I(ue,[["__scopeId","data-v-051373d6"]]);const ce=["value"],j={props:{value:String},emits:["update:value"],setup(f,{emit:t}){const e=f;return(l,o)=>(s(),v("input",{type:"color",value:e.value,onBlur:o[0]||(o[0]=u=>t("update:value",u.target.value))},null,40,ce))}};const de=["value","onBlur"],ve={props:{file:File},emits:["search","clear"],setup(f,{emit:t}){const e=f;let l=g([]);function o(C,S){let b=Number("0x"+S.target.value);isNaN(b)?S.target.value=l.value[C].toString(16):l.value[C]=b}function u(){l.value.push(0)}function y(){l.value.pop()}let i=g([]),B=g(!1);async function h(){if(l.value.length===0)return;console.time("FileSearch");const C=await e.file.arrayBuffer(),S=new Uint8Array(C);let b=[];for(let m=0;m<=S.length-l.value.length;m++){if(S[m]!==l.value[0])continue;let x=!0;for(let w=1;w<l.value.length;w++)if(S[m+w]!==l.value[w]){x=!1;break}x&&b.push(new Array(l.value.length).fill(0).map((w,k)=>m+k))}return console.timeEnd("FileSearch"),t("search",b),i.value=b.map(m=>m.map(x=>x.toString(16)+"h")),b}function _(){t("clear"),i.value=[]}return(C,S)=>(s(),v("div",null,[r("div",null,[(s(!0),v(N,null,E(c(l),(b,m)=>(s(),v("input",{value:b.toString(16),onBlur:x=>o(m,x),maxlength:"2"},null,40,de))),256))]),r("button",{onClick:u},"Add"),r("button",{onClick:y},"Delete"),r("button",{onClick:h},"Search"),r("button",{onClick:_},"Clear"),r("ul",null,[$(r("span",null,"Search...",512),[[A,c(B)]]),$(r("span",null,"No Result",512),[[A,!c(B)&&c(i).length===0]]),(s(!0),v(N,null,E(c(i),b=>$((s(),v("li",null,M(b.toString()),513)),[[A,!c(B)]])),256))])]))}};var fe=I(ve,[["__scopeId","data-v-3c08d73e"]]);class _e{constructor(t,e,l=!1){this.byte=t,this.index=e,this.selected=l}}const pe=f=>(Z("data-v-773d090f"),f=f(),ee(),f),he={key:1,class:"main"},ge={class:"tool-box"},ye={class:"tool-box_content"},be=["disabled"],me=["disabled"],Ce=T(" Background color "),Se=T(" Foreground color "),xe=T(" Binary Search "),we={style:{display:"flex"}},Be={class:"byte-table"},ke={class:"table-row"},Ne=pe(()=>r("div",{class:"table-cell header"},null,-1)),Ee={class:"table-cell header"},Fe={class:"table-row"},Me={class:"table-cell header"},Ve={class:"char-table"},$e={class:"table-row"},Ae={class:"table-cell header"},Ie={class:"table-row"},Le={setup(f){let t=g(1024),e=g(0);const l=g(0);let o=R(()=>Math.ceil(i.value.length/16)),u=g(null),y=g(null),i=g([]);const B={multiple:!1};async function h(){try{let[n]=await globalThis.showOpenFilePicker(B);if(u.value=n,!u.value)return;y.value=await n.getFile(),i.value=await _(y.value,e.value,t.value)}catch(n){console.error(n)}}async function _(n,d,a){try{const{size:p,name:Oe}=n;let Q=new Uint8Array(await n.slice(d*a,(d+1)*a).arrayBuffer());l.value=Math.floor(p/t.value);let z=[];return Q.forEach((X,Y)=>{z.push(new _e(X,b(Y),!1))}),z}catch(p){console.error(p);return}}async function C(){e.value--,i.value=await _(y.value,e.value,t.value),L()}async function S(){e.value++,i.value=await _(y.value,e.value,t.value),L()}function b(n){return e.value*t.value+n}function m(n){return n-e.value*t.value}function x(n){return n>=e.value*t.value&&n<(e.value+1)*t.value}function w(n,d){let a=m(n);i.value[a].selected=d,d?(i.value[a].bgColor=k.value,i.value[a].fgColor=F.value):(i.value[a].bgColor=void 0,i.value[a].fgColor=void 0)}let k=g("#ff0000"),F=g("#ffffff"),V=g([]);function L(n){n&&(V.value=n),V.value.forEach(d=>{d.forEach(a=>{x(a)&&w(a,!0)})})}function K(){V.value.forEach(n=>{n.forEach(d=>{x(d)&&w(d,!1)})}),V.value=[]}function W(n){let d=m(n);i.value[d].bgColor=k.value,i.value[d].fgColor=F.value}function G(n){let d=m(n);i.value[d].bgColor=void 0,i.value[d].fgColor=void 0}let P=g(!1);function J(){P.value=!P.value}return(n,d)=>c(u)?(s(),v("div",he,[r("div",ge,[r("div",{onClick:J,class:"tool-box_icon"},"Tool"),$(r("div",ye,[r("button",{class:"btn",disabled:c(e)<=0,onClick:C},"Previous Page",8,be),r("button",{class:"btn",disabled:c(e)>=l.value,onClick:S},"Next Page",8,me),r("label",null,[Ce,U(j,{type:"color",value:c(k),"onUpdate:value":d[0]||(d[0]=a=>D(k)?k.value=a:k=a)},null,8,["value"])]),r("label",null,[Se,U(j,{type:"color",value:c(F),"onUpdate:value":d[1]||(d[1]=a=>D(F)?F.value=a:F=a)},null,8,["value"])]),r("div",null,[xe,U(fe,{file:c(y),onSearch:L,onClear:K},null,8,["file"])])],512),[[A,c(P)]])]),r("div",we,[r("div",Be,[r("div",ke,[Ne,(s(),v(N,null,E(16,a=>r("div",Ee,M((a-1).toString(16).toUpperCase()),1)),64))]),(s(!0),v(N,null,E(c(o),a=>(s(),v("div",Fe,[r("div",Me,M((c(e)*c(t)/16+(a-1)).toString(16).padStart(6,"0").toUpperCase()+"h"),1),(s(!0),v(N,null,E(c(i).slice((a-1)*16,a*16),p=>(s(),O(se,{key:p.index,byte:p.byte,index:p.index,selected:p.selected,"bg-color":p.bgColor,"fg-color":p.fgColor,class:H(["table-cell"]),onSelect:w,onMouseenter:W,onMouseleave:G},null,8,["byte","index","selected","bg-color","fg-color"]))),128))]))),256))]),r("div",Ve,[r("div",$e,[(s(),v(N,null,E(16,a=>r("div",Ae,M((a-1).toString(16).toUpperCase()),1)),64))]),(s(!0),v(N,null,E(c(o),a=>(s(),v("div",Ie,[(s(!0),v(N,null,E(c(i).slice((a-1)*16,a*16),p=>(s(),O(ie,{class:H(["table-cell"]),key:p.index,byte:p.byte,selected:p.selected,"bg-color":p.bgColor,"fg-color":p.fgColor},null,8,["byte","selected","bg-color","fg-color"]))),128))]))),256))])])])):(s(),v("h1",{key:0,onClick:h,class:"title"},"Pick you File"))}};var Pe=I(Le,[["__scopeId","data-v-773d090f"]]);const Ue={setup(f){return te(()=>{window.addEventListener("beforeunload",()=>confirm("\u786E\u5B9A\u9000\u51FA\u5417"))}),(t,e)=>(s(),O(Pe))}};le(Ue).mount("#app");
